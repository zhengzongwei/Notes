# 软件源配置

## Ubuntu

1. 备份配置文件

   ```shell
   sudo cp -a /etc/apt/sources.list /etc/apt/sources.list.bak
   ```

2. 修改配置文件

   ```shell
   sudo sed -i "s@http://.*archive.ubuntu.com@http://repo.huaweicloud.com@g" /etc/apt/sources.list
   sudo sed -i "s@http://.*security.ubuntu.com@http://repo.huaweicloud.com@g" /etc/apt/sources.list
   ```

3. 更新索引

   ```shell
   apt-get update
   ```


## Debian

1. 备份配置文件

   ```shell
   cp -a /etc/apt/sources.list /etc/apt/sources.list.bak
   ```

2. 修改配置文件

   ```shell
   sed -i "s@http://ftp.debian.org@https://repo.huaweicloud.com@g" /etc/apt/sources.list
   sed -i "s@http://security.debian.org@https://repo.huaweicloud.com@g" /etc/apt/sources.list
   ```

3. 执行`**apt-get install apt-transport-https ca-certificates**`安装https源，之后再执行`**apt-get update**`更新索引

   

## CentOS

1. 备份配置文件

   ```shell
   cp -a /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak
   ```

2. 配置文件

   - CentOS7

   ```shell
   wget -O /etc/yum.repos.d/CentOS-Base.repo https://repo.huaweicloud.com/repository/conf/CentOS-7-reg.repo
   ```

   - CentOS8

   ```shell
    wget -O /etc/yum.repos.d/CentOS-Base.repo https://repo.huaweicloud.com/repository/conf/CentOS-8-reg.repo
   ```

     3. 清除原有缓存

        ```shell
        yum clean all
        ```

     4. 刷新缓存

        ```shell
        yum makecache
        yum repolist all
        ```

## Fedora

1. 备份配置文件

   ```shell
   cp -a /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora.repo.backup
   cp -a /etc/yum.repos.d/fedora-updates.repo /etc/yum.repos.d/fedora-updates.repo.backup
   ```

2. 修改配置文件

   - Fedora27以及以前版本

     ```shell
     sed -i "s/#baseurl/baseurl/g" /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora-updates.repo
     sed -i "s/metalink/#metalink/g" /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora-updates.repo
     sed -i "s@http://download.fedoraproject.org/pub/fedora/linux@https://repo.huaweicloud.com/fedora@g" /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora-updates.repo
     ```

   - Fedora28及以后版本

     ```shell
     sed -i "s/#baseurl/baseurl/g" /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora-updates.repo /etc/yum.repos.d/fedora-modular.repo /etc/yum.repos.d/fedora-updates-modular.repo
     sed -i "s/metalink/#metalink/g" /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora-updates.repo /etc/yum.repos.d/fedora-modular.repo /etc/yum.repos.d/fedora-updates-modular.repo
     sed -i "s@http://download.fedoraproject.org/pub/fedora/linux@https://repo.huaweicloud.com/fedora@g" /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora-updates.repo /etc/yum.repos.d/fedora-modular.repo /etc/yum.repos.d/fedora-updates-modular.repo
     ```

3. 更新源

   ```shell
   yum makecache
   ```

   



